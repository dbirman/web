<!DOCTYPE HTML>
<!--
	Landed by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Sensory perception lab</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="../assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
		<!-- Generics -->
			<script src="../assets/js/jquery.min.js"></script>
			<script src="../assets/js/math.min.js"></script>
			<script src="../assets/js/jquery.scrolly.min.js"></script>
			<script src="../assets/js/jquery.dropotron.min.js"></script>
			<script src="../assets/js/jquery.scrollex.min.js"></script>
			<script src="../assets/js/skel.min.js"></script>
			<script src="../assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="../assets/js/main.js"></script>
	</head>
	<body>
		<div id="page-wrapper">

			<!-- Header -->
				<header id="header">
					<!-- <h1 id="logo"><a href="../index.html">Dan Birman</a></h1> -->
					<nav id="nav">
						<ul>
							<li><a href="../learn.html">Learn</a></li>
						</ul>
					</nav>
				</header>

			<!-- Main -->
				<div id="main" class="wrapper style1">
					<div class="container">
						<header class="major">
							<h2>Sensory Perception Lab</h2>
							<p>PSYCH 50</p>
						</header>

						<!-- Content -->
							<section id="content">
<div id="block1">
	<h2>Simple cells, complex cells, and deep neural networks</h2>

	<h1 id="introduction">Introduction</h1>

	<p>In this lab we will be exploring some of the details of the simple and complex cells which we learned about in lecture. You will be running some example code which will show you how different cells “see” the world and eventually using a deep neural network similar to those that Facebook, Google, Tesla, and Apple are using to identify you in your images, control their driverless cars, and understand your voice when you ask your phone for information.</p>

	<h1 id="learninggoals">Learning goals</h1>

	<p>After this lab you should have a better understanding of the following:</p>

	<ul>
	<li>How simple and complex cells act as filters, only allowing a certain kind of information in a scene to pass through. </li>

	<li>How representations in the cortical visual hierarchy become more complex as you proceed deeper through cortical areas.</li>

	<li>Be able to explain why invariance is an important property to have in the highest levels of visual cortex.</li>
	</ul>

	<h1 id="sectionlabs">Section Labs</h1>

	<p>This is our first section in Psych 50 so we want to take a brief moment to orient you to how these <b>lab tutorials</b> work. Your TA should have aleady mentioned that we will have a mixture of open discussions, demonstrations, and lab tutorials. The lab tutorials are an introduction to <b>computation models</b> as a tool for understanding our brains, and we use programming (in this case <i>javascript</i>) to run our models. You'll get the most out of these labs if you work together with a partner both on the same computer and discuss what's happening at each step. You may want to use a whiteboard or your notebook to go over key ideas along the way. In today's lab you'll just be going through examples that we've made for you, but in future labs you will have to write some of the program yourself. Let your TA know if you have questions!</p>

	<p><i>If you already know how to program:</i> you will find bonus content sprinkled throughout the tutorials. None of this content is required but it will help you get a more in-depth understanding of what's happening behind the scenes.</p>
</div>



<div id="block2">
	<h2 id="part1simplecells">Part 1: Simple cells</h2>
	<p>You should recall from lecture that a <b>simple cell</b> is a neuron in the early visual cortex (part of the occipital cortex) which tend to have a center-surround type of receptive field, to some extent these resemble <b>oriented bars</b></p>
	<p>The first thing we're going to do is look at how a simple cell might "see" an image. Remember that a neuron in this part of cortex has a <b>receptive field</b>, which is the area of visual space that the neuron can "see" and react to. Simple cells will be activated whenever they see for example, edges. The first thing we're going to do in this lab is try to <b>design</b> a receptive field to detect edges. Eventually we'll build up to receptive fields that detect much more complex features, like cats or dogs.</p>
</div>

<div id="block3">
	<h2>Design a receptive field</h2>
	<p>The next section is a bit like a game, you're going to design a receptive field and test it on the image shown. Your goal is to create an <b>edge detector</b> that can find vertical lines. We've set this up just like the Hubel and Wiesel experiment, but we're letting you move your receptive field around the image (with your mouse), while a real neuron would be fixed in one place. The top right panel shows the voltage of this neuron as if we were recording with an electrode. When your receptive field is well activated by what it "sees" you'll hear the neuron firing (<i>turn up your sound!</i>) and you'll see the spikes in the window on the top right. To change your receptive field simply click anywhere in the 7x7 grid on the top left to cycle between black, grey, and white. The colors indicate how much the neuron will be activated by luminance in that part of its receptive field. Your goal is to make a filter that <i>maximally</i> responds to the vertical white bar on the right side of the image. Good luck!</p>
	<div style="text-align:center">
		<div class="row">
			<div style="text-align:left">
				<p>Receptive field</p>
				<canvas width=175 height=175 id="canvas-rf" style="float-left">UPGRADE BROWSER</canvas>
			</div>
			<div style="text-align:right">
				<p>Response</p>
				<canvas width=400 height=175 id="canvas-spk" style="float-right"></canvas>
			</div>
		</div>
	</div>
	<br>
	<div style="text-align:left">
		<p>Image</p>
		<canvas width=150 height=101 id="canvas-img" style="float-left"></canvas>
	</div>
	<a class="button" width=150 height=15 onclick="bonus1();">Bonus content (not required)</a>
	<br>
	<div id="bonus1">
		<h2>Bonus content: Contrast normalization</h2>
		<p>We've skipped an important step in the visual cortex to make things a bit simpler, but if you remember what you read about the retina you'll know that the retina acts a local contrast normalization filter. In other words: it transforms each local region of the image based on the contrast in that area, so that the image ends up having more uniform contrast when it is processed downstream by V1.</p>
		<p>We hid this process, but as someone with knowledge of programming we'd like you to reconstruct the steps required to make this happen. We've provided some code below which you can run by pressing enter. You'll need to fill in the relevant missing areas.</p>
		<textarea id="textarea1" rows="7" onkeypress="textarea1(event,this);">
// First draw the image on the canvas
ctx_img.drawImage(adorbs,0,0);
// Set up an empty array of pixels, 
pixels = createArray(150*101);
// Your job now is to write code that gets, for each pixel,
// the Z-score using the local area around it (+- 1 pixel,
// so you want to get the 3x3 region surrounding). Place
// the values you compute into the relevant positions in 
// pixels, which will be displayed on the canvas below.
// var local_pixels = ctx_img.getImageData(x,y,w,h).data;
// The code above shows you how to get the pixel values in
// some rectangular region. Data off the canvas returns as
// zeros (bad for normalizing!), and values come back as an
// array in row column order with r g b a values for each 
// pixel. So the array length will be 4 times the size of
// the area requested. Because these are in grayscale you
// can discard all but the first value.

//YOUR CODE HERE

// We tweak the space to 0->1 at the end for plotting
image_px = add(image_px,math.min(image_px));
image_px = divide(image_px,math.max(image_px));</textarea>
		<div style="text-align:left">
			<p>Bonus Canvas</p>
			<canvas width=150 height=101 id="canvas-bonus" style="float-left"></canvas>
		</div>
	</div>
</div>
<div id="block4">
	<p>At this point you should have built a somewhat working filter. We're now going to use it to filter the entire image we showed you above so you can see, all at once, how this kind of a neuron would "see" this image. In a sense you can think of this as how cells tuned for this orientation in area V1 "see the world", as bright spots wherever their preferred orientation exists. To help you get your algorithm right I've loaded an idealized filter in the background. The button below will rotate between the original image, your filtered image, and our filtered image.</p>
	<div style="text-align:left">
		<p>Filtered Image</p>
		<canvas width=150 height=101 id="canvas-filt" style="float-left"></canvas>
		<a class="button" width=150 height=15 onclick="rotate_filter();">Rotate</a>
	</div>
	<p>So hopefully you got your filter working pretty well! On the next page we're going to talk about <b>complex cells</b>.</p>
</div>
<div id="block5">
	<h2>Complex cells</h2>
	<p>Recall form lecture the properties of complex cells. Now learn some shit with this demo that doesn't exist.</p>
</div>

<div id="endblock">
	<h2>Tutorial complete!</h2>
</div>

<img id="adorbs" crossOrigin="anonymous" src="images/Adorbs.png" style="display:none"/>

							</section>
		<a class="button special" onclick="prev();">Go back</a>

		<a class="button special" onclick="next();">Continue</a>
						<!-- End Content -->
					</div>
				</div>

			<!-- Footer -->
				<footer id="footer">
					<ul class="copyright">
						<li>&copy; Dan Birman 2015-Present</li><li><a href="https://github.com/dbirman/web/" target="_blank">Code<a/></li>
					</ul>
				</footer>

		</div>

		<!-- Local CSS -->
			<link rel="stylesheet" href="psych50_hierarchy.css" />
		<!-- Scripts -->
			<script src="demo_logic.js"></script>
			<script src="psych50_hierarchy.js"></script>
			<script>launch();</script>
	</body>
</html>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-34324563-2', 'auto');
  ga('send', 'pageview');

</script>
